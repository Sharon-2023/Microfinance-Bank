<!-- {% extends 'baseadmin.html' %}
{% load static %}

{% block title %}Performance Analysis{% endblock %}

{% block head %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
    .analysis-container {
        padding: 2rem;
        background-color: #f8f9fa;
    }

    .analysis-header {
        background: linear-gradient(135deg, #1a237e 0%, #0d47a1 100%);
        color: white;
        padding: 2rem;
        border-radius: 12px;
        margin-bottom: 2rem;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .charts-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 2rem;
        margin-top: 2rem;
    }

    .chart-card {
        background: white;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }

    @media (max-width: 992px) {
        .charts-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="analysis-container">
    <div class="analysis-header">
        <h1>Performance Analysis</h1>
        <p>Detailed insights and analytics of bank performance</p>
    </div>

    <div class="charts-grid">
        <div class="chart-card">
            <canvas id="accountGrowthChart"></canvas>
        </div>
        <div class="chart-card">
            <canvas id="transactionVolumeChart"></canvas>
        </div>
        <div class="chart-card">
            <canvas id="revenueChart"></canvas>
        </div>
        <div class="chart-card">
            <canvas id="customerSegmentChart"></canvas>
        </div>
    </div>
</div>

<script>
// Account Growth Chart
new Chart(document.getElementById('accountGrowthChart'), {
    type: 'line',
    data: {
        labels: {{ months|safe }},
        datasets: [{
            label: 'Account Growth',
            data: {{ account_growth_data|safe }},
            borderColor: '#1976d2',
            tension: 0.3,
            fill: false
        }]
    },
    options: {
        responsive: true,
        plugins: {
            title: {
                display: true,
                text: 'Account Growth Trend'
            }
        }
    }
});

// Transaction Volume Chart
new Chart(document.getElementById('transactionVolumeChart'), {
    type: 'bar',
    data: {
        labels: ['Savings', 'Current', 'Fixed Deposit', 'Loans'],
        datasets: [{
            label: 'Transaction Volume',
            data: {{ transaction_volume_data|safe }},
            backgroundColor: ['#2e7d32', '#f9a825', '#c62828', '#6a1b9a'],
        }]
    },
    options: {
        responsive: true,
        plugins: {
            title: {
                display: true,
                text: 'Transaction Volume by Account Type'
            }
        }
    }
});

// Revenue Chart
new Chart(document.getElementById('revenueChart'), {
    type: 'line',
    data: {
        labels: {{ months|safe }},
        datasets: [{
            label: 'Revenue',
            data: {{ revenue_data|safe }},
            borderColor: '#2e7d32',
            backgroundColor: 'rgba(46, 125, 50, 0.1)',
            fill: true
        }]
    },
    options: {
        responsive: true,
        plugins: {
            title: {
                display: true,
                text: 'Revenue Trends'
            }
        }
    }
});

// Customer Segment Chart
new Chart(document.getElementById('customerSegmentChart'), {
    type: 'doughnut',
    data: {
        labels: ['Premium', 'Standard', 'Basic'],
        datasets: [{
            data: {{ customer_segment_data|safe }},
            backgroundColor: ['#1976d2', '#2e7d32', '#f9a825'],
        }]
    },
    options: {
        responsive: true,
        plugins: {
            title: {
                display: true,
                text: 'Customer Segments'
            }
        }
    }
});
</script>
{% endblock %}  -->